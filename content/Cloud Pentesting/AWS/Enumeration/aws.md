# AWS > Enumeration

Lipsum

!!! tip 
    When assessing AWS environments, it is recommended to configure separate testing profiles using `aws configure`.
    Each profile can then be selected for varied CLI commands using the `--profile` flag.

## Commands

### Get basic account information
```
aws sts get-caller-identity
```

### Get basic account information
```
aws sts get-caller-identity
```

### List EC2 instances
```
aws ec2 describe-instances --region <region>
```

### List IAM users
```
aws iam list-users --profile <profile_name>
```

### List IAM roles
```
aws iam list-roles
```

### List S3 Buckets
```
aws s3 ls
```

## Automated Enumeration

!!! warning
    For engagements requiring strong Operation Securtiy, it might be preferable to follow a manual approach. The following tools can be extremely noisy and easily caught by blue teams.

### Scan for unprotected S3 buckets

```
python3 cloud_enum.py -k <keyword> -l <outfile> -t <thread_counts>
```
### Search for secrets in S3 buckets

```
cd s3crets_scanner/ && python3 main.py -p <profile_name> -r <role_name>
```

### Enumerates/bruteforces S3 buckets based on different parameters
*This module searches across every AWS region for a variety of bucket names based on a domain name, subdomains, affixes given and more. Currently the tool will only present to you whether or not the bucket exists or if they are listable.*

```
pacu> run s3__bucket_finder
```

### Tools & Pre-requisites

* [https://github.com/nccgroup/ScoutSuite](https://github.com/nccgroup/ScoutSuite) - Enumerate global security posture and export to dashboard
* [https://github.com/initstring/cloud_enum](https://github.com/initstring/cloud_enum) - Enumerate public S3 Buckets and Applications

### Run AWS ScoutSuite scan for current User
```
scoutsuite aws --profile <profile_name>
```

## References
